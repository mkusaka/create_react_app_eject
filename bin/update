#!/bin/bash

yarn remove create-react-app react-scripts
yarn add create-react-app
yarn add --exact react-scripts@3.1.0
rm -rf typed/
rm -rf vanilla/

echo typed start
yarn run cra typed --typescript

cd typed

git add .
git commit -m "update typed dependencies"

yarn run eject

echo typed end
cd ..

git add .
git commit -m "update typed eject result"

echo vanilla start

yarn run cra vanilla
cd vanilla

git add .
git commit -m "update vanilla dependencies"

yarn run eject -y

echo vanilla end

cd ..
git add .
git commit -m "update typed eject result"

echo end
